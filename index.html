<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>SSR Web Components</title>
  </head>
  <body>
    <h1 id="user">Hello guest</h1>
    <form action="login" method="POST">
      <button>Login</button>
      <label for="username">Username</label>
      <input type="text" name="username" id="username" />
    </form>
    <form action="logout" method="POST">
      <button>Logout</button>
    </form>
  </body>
  <script lang="js">
    const userNameCookie = document.cookie
        .split("; ")
        .find(cookie => cookie.startsWith('username='))
        .split("=")[1] || ''
    const userName = userNameCookie || 'Guest'
    document.querySelector('#user').textContent = `Hello ${userName}`
    if (userName) {
        document.querySelector('#username').value = userName
    }
  </script>
</html>
